$(document).ready(function() {

    $('a').click(function(){
        $(".name_input, .large_input").val('');
        $('.name_label').removeClass( "label_change" );
    });

    $('.name_input').focus(function(){
        $(this).closest( ".contact_information" ).find('.name_label').addClass( "label_change" );
    });

    $('.name_input').blur(function(){
        if(!$(this).val()){
            $(this).closest( ".contact_information" ).find('.name_label').removeClass( "label_change" );
        } 
    });   

    $('.styles, .humans').hover(
      function() {
        $( this ).find('.dropdown').addClass("pinkify");
        $( this ).find('.dropdown').removeClass("depinkify");

        $( this ).find('.pencil_head').removeClass("hide");
        $( this ).find('.text').removeClass("hide");

        $( this ).find('.dropup').addClass("pinkify");
        $( this ).find('.dropup').removeClass("depinkify");
      }, function() {
        $( this ).find('.dropdown').removeClass("pinkify");
        $( this ).find('.dropdown').addClass("depinkify");   

        $( this ).find('.pencil_head').addClass("hide");
        $( this ).find('.text').addClass("hide");

        $( this ).find('.dropup').removeClass("pinkify");
        $( this ).find('.dropup').addClass("depinkify");             
      }
    );

    $(".blue_buttons").click(function () {
        var $parent = $(this).closest('.planning');
        var $lines = $parent.find('.line-three > .whole_slide');
        $lines.hide();
        $lines.eq($(this).index()).show();
        $('.blue_buttons').removeClass("active");
        $( this ).addClass("active");
    });

    var something = 0;
    $(".fa-chevron-left").click(function () {
        
        var $parent = $(this).closest('.planning');
        var $lines = $parent.find('.line-three > .whole_slide');
        var $buttons = $parent.find('.buttons > .blue_buttons');
        $lines.hide();
        
        something--;

        if(something < 0){
          something = $('.whole_slide').length - 1;
        }
    
        $lines.eq(something).show();
        $('.blue_buttons').removeClass("active");
        $buttons.eq(something).addClass("active");
    });

    $(".fa-chevron-right").click(function () {
        
        var $parent = $(this).closest('.planning');
        var $lines = $parent.find('.line-three > .whole_slide');
        var $buttons = $parent.find('.buttons > .blue_buttons');
        $lines.hide();
        
        something++;

        if(something > ($('.whole_slide').length - 1)){
          something = 0;
        }

        console.log($buttons);
    
        $lines.eq(something).show();
        $('.blue_buttons').removeClass("active");
        $buttons.eq(something).addClass("active");
    });

    $('form.ajax').on('submit', function(e){
        
        $('.contact_information > button').addClass("loading_button");
        $('.contact_information > button').text("PROCESSING");
        $('body, .contact_information > button').addClass("waiting_button").delay(2000).queue(function(next){
          
            var that = $(this),
                url = that.attr('action'),
                type = that.attr('method');

            $.ajax({
                url: url,
                type: type,
                data: $( this ).serializeArray(),
                success: function(response){
                    console.log(response);
                    $('.add_information > textarea').val("Thank you for filling out our contact form. A receipt of the information you just filled out will be emailed to you and our team as confirmation that you contacted us. To resubmit a form that may have been filled out incorrectly, simply refresh the page and fill out the form again. Have a great day.");
                    $('.contact_information > button').addClass("success_button"); 
                    $(".name_input, .large_input").val(''); 
                    $('.contact_information > button').text("SUCCESS");
                    $('.contact_information > button').attr("disabled","disabled");    
                },
                error: function(response){
                    $('.add_information > textarea').val("Error");
                },
                complete: function(response){
                    $('body, .contact_information > button').removeClass("waiting_button"); 
                }           
            });

            next();
        });

        return false;
    });
});

// define the angular module
var app = angular.module('app',  []);

// define main controller
app.controller('mainController', function mainController($scope){

    $scope.downstyle = [
        {
          text: '2D / 3D',   
          path: 'background-image: url("images/2d3d.jpg"); background-position: 60% 100%;'      
        },
        {
          text: 'Motion Graphics',
          path: 'background-image: url("images/motion.jpg"); background-position: 79% 100%;'        
        },        
        {
          text: 'TV',  
          path: 'background-image: url("images/tele.jpg"); background-position: 85% 100%;'        
        }
    ];

    $scope.upstyle = [
        {
          text: 'Music',  
          path: 'background-image: url("images/music.jpg"); background-position: 72% 100%;'        
        },
        {
          text: 'Live Action',  
          path: 'background-image: url("images/live.jpg"); background-position: 0% 100%;'        
        },
        {
          text: 'Print',  
          path: 'background-image: url("images/print.jpg"); background-position: 80% 100%;'        
        }
    ];

    $scope.slides = [
        {
          h1: 'Concept',  
          p: 'Come up with a message that will captivate your audience.',
          path: 'background-image: url("images/concept_overlay.jpg");',
          active: 'active',
          index: 'z-index: 150;'        
        },
        {
          h1: 'Storyboard',  
          p: 'Lay-out your story. This will help us see the direction we are focused on.',          
          path: 'background-image: url("images/story.jpg"); background-size: 104%; background-position: 50% 50%;',
          active: ' ',
          index: 'z-index: 100;'        
        }
    ];

    $scope.employees = [
        {
          name: 'Aimee',
          position: 'Sound Designer',
          path: 'WP_AIMEE',
          color: '#57eb87'
        },
        {
          name: 'Ben',
          position: '2D Animator',
          path: 'WP_BEN',
          color: '#57c6eb'
        },
        {
          name: 'David',
          position: 'Videographer',
          path: 'WP_DAVID',
          color: '#eb8056'
        },
        {
          name: 'Jean',
          position: '2D Animator',
          path: 'WP_JEAN',
          color: '#eb5656'
        }, 
        {
          name: 'Lexy',
          position: 'C4D Animator',
          path: 'WP_LEXY',
          color: '#7257eb'
        },
        {
          name: 'Carlos',
          position: 'Web Developer',
          path: 'WP_CARLOS',
          color: '#57eb87'
        },
        {
          name: 'Matt',
          position: '3D Animator',
          path: 'WP_MATT',
          color: '#ebdf57'
        },
        {
          name: 'Omer',
          position: 'Pipeline Producer',
          path: 'WP_OMER',
          color: '#eb8056'
        },
        {
          name: 'Sid',
          position: 'CEO',
          path: 'WP_SID',
          color: '#57c6eb'
        },
        {
          name: 'Shanti',
          position: 'Illustrator',
          path: 'WP_SHANTI',
          color: '#eb5656'
        },
        {
          name: 'Stephen',
          position: '3D Animator',
          path: 'WP_STEPHEN',
          color: '#7257eb'
        },
        {
          name: 'Zach',
          position: 'Storyboard Artist',
          path: 'WP_ZACH',
          color: '#ebdf57'
        },
        {
          name: 'Aimee',
          position: 'Sound Designer',
          path: 'WP_AIMEE',
          color: '#57eb87'
        },
        {
          name: 'Ben',
          position: '2D Animator',
          path: 'WP_BEN',
          color: '#57c6eb'
        },
        {
          name: 'David',
          position: 'Videographer',
          path: 'WP_DAVID',
          color: '#eb8056'
        },
        {
          name: 'Jean',
          position: '2D Animator',
          path: 'WP_JEAN',
          color: '#eb5656'
        }, 
    ];
});